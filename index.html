<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wall of Love</title>
    
<style>
    /* Import a fun font */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

    /* General Reset and Styling */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    body {
        font-family: 'Poppins', sans-serif;
        background: #f7f7f7; 
        min-height: 100vh;
        color: #333;
        overflow-x: hidden;
    }

    header {
        text-align: center;
        padding: 40px 20px;
        color: white;
        margin-bottom: 0; 
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
        animation: fadeInDown 0.8s ease-out;
    }

    header h1 {
        font-size: 3em;
        font-weight: 700;
        text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        margin-bottom: 10px;
    }

    header p {
        font-size: 1.2em;
        font-weight: 300;
        opacity: 0.9;
    }

    /* --- FOCUS SECTIONS --- */
    .hidden {
        display: none !important;
    }

    #intro-caricature-container, #main-photo-focus {
        min-height: 80vh; 
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 20px;
        box-sizing: border-box;
        cursor: pointer;
        position: relative; 
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .focus-card {
        background: white;
        border-radius: 20px;
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        max-width: 800px;
        width: 90%;
        text-align: center;
        padding: 30px;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        animation: scaleIn 0.8s ease-out;
    }

    .focus-card:hover {
        transform: scale(1.02);
        box-shadow: 0 20px 50px rgba(0, 0, 0, 0.4);
    }

    .focus-card img {
        width: 100%;
        height: auto;
        max-height: 50vh; 
        object-fit: contain;
        border-radius: 15px;
        margin-bottom: 20px;
        border: 5px solid #667eea;
    }

    .focus-card h2 {
        color: #764ba2;
        font-size: 2em;
        margin-bottom: 10px;
    }

    .focus-card span {
        display: block;
        margin-top: 15px;
        font-weight: 600;
        color: #f5576c;
        font-size: 1.1em;
    }

    .gallery-title {
        text-align: center;
        color: #333; 
        font-size: 2.5em;
        font-weight: 700;
        padding: 30px 20px 10px;
        text-shadow: none;
        margin-top: 0; 
    }


    /* --- Core Grid Layout (Scrollable Gallery) --- */
    .photo-gallery {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 30px;
        padding: 20px 40px 80px; 
        max-width: 1400px;
        margin: 0 auto;
        perspective: 1200px;
    }

    /* Style for each photo item (Card Base) */
    .photo-item {
        background: var(--card-bg-color, #ffffff); 
        border-radius: 15px; 
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); 
        display: flex;
        flex-direction: column;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        position: relative;
        transform-style: preserve-3d;
        cursor: pointer;
        opacity: 0;
        transform: translateY(50px) rotate(5deg);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }

    /* Shake-in Animation Triggered by JS */
    .photo-item.shake-in {
        opacity: 1;
        transform: translateY(0) rotate(0deg);
        animation: shake-in-animate 1.2s ease-out; 
        animation-delay: var(--animation-delay, 0s);
    }

    @keyframes shake-in-animate {
        0% { transform: scale(0.95) rotate(-2deg); }
        20% { transform: scale(1.05) rotate(3deg); }
        40% { transform: scale(0.98) rotate(-1deg); }
        60% { transform: scale(1.02) rotate(2deg); }
        80% { transform: scale(0.99) rotate(-0.5deg); }
        100% { transform: scale(1) rotate(0deg); } 
    }

    /* ‚úâÔ∏è Envelope Flap (V-Shape) */
    .photo-item::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 80px;
        /* Flap color matches the body color variable */
        background: var(--card-bg-color, #ffffff); 
        clip-path: polygon(0 0, 100% 0, 50% 100%, 0 0);
        z-index: 1; 
        border-top-left-radius: 15px; 
        border-top-right-radius: 15px;
        transform-origin: top; 
        transition: transform 0.4s ease;
        transform: scaleY(1); 
    }

    .photo-item:hover::before {
        transform: scaleY(0.9) translateY(-5px); 
    }

    @keyframes flapOpen {
        0% { transform: rotateX(0deg); }
        50% { transform: rotateX(90deg) translateY(-10px); }
        100% { transform: rotateX(0deg); }
    }

    @keyframes flapClose {
        0% { transform: rotateX(0deg); }
        50% { transform: rotateX(-90deg) translateY(10px); }
        100% { transform: rotateX(0deg); }
    }

    .photo-item.animate-flap::before {
        animation: var(--flap-animation-name) var(--flap-animation-duration) ease-in-out infinite alternate;
    }

    /* --- Image Toggle Container (The "Letter" part peeking out) --- */
    .image-toggle-container {
        width: 100%;
        height: 160px;
        position: relative;
        overflow: hidden;
        margin-top: 5px; /* Half the flap height */
        border-radius: 0; 
        z-index: 0; 
    }

    .image-toggle-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: 50% 5%; 
        transition: opacity 0.4s ease, transform 0.5s ease;
    }

    .caricature-image { opacity: 0; transform: scale(1); }
    .original-image { opacity: 1; transform: scale(1); }
    .photo-item.toggled .caricature-image { opacity: 1; transform: scale(1); filter: grayscale(0); }
    .photo-item.toggled .original-image { opacity: 0; transform: scale(0.9); filter: brightness(0.7); }
    .photo-item:hover .original-image:not(.hidden) { transform: scale(1.05); filter: brightness(0.95); }
    .photo-item.toggled:hover .caricature-image { transform: scale(1.05); }

    /* ‚úâÔ∏è Details section (The Envelope Body) */
    .details {
        padding: 30px 20px; 
        background: var(--card-bg-color, #ffffff);
        flex-grow: 1;
        border-bottom-left-radius: 15px; 
        border-bottom-right-radius: 15px; 
    }

    .name { color: #667eea; font-size: 1.4em; font-weight: 600; margin-bottom: 10px; transition: color 0.3s ease; }
    .photo-item:hover .name { color: #764ba2; }
    .comment { font-style: italic; color: #666; font-size: 0.95em; line-height: 1.6; }
    .photo-item:hover { transform: translateY(-15px) rotateX(5deg) scale(1.02); box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3); }

    .photo-item::after { 
        content: '‚ú®'; 
        position: absolute; 
        top: 25px; 
        right: 15px; 
        font-size: 1.5em; 
        opacity: 0; 
        transform: scale(0) rotate(-45deg); 
        transition: all 0.3s ease; 
        z-index: 2; 
    }
    .photo-item:hover::after { opacity: 1; transform: scale(1) rotate(0deg); }

    @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    
    /* üì± MOBILE OPTIMIZATION (Max-width 600px) */
    @media (max-width: 600px) { 
        header h1 { font-size: 2em; } 
        
        .focus-card { width: 100%; margin: 0 10px; padding: 15px; }
        .focus-card img { max-height: 65vh; }
        #intro-caricature-container, #main-photo-focus { padding: 10px 0; min-height: 75vh; }
        .gallery-title { padding-top: 20px; }

        .photo-gallery { display: block; padding: 10px; } 
        .photo-item { 
            margin: 0 10px 20px 10px; 
            transform: none !important; 
            animation: scaleIn 0.5s ease-out backwards;
            transition: all 0.3s ease;
        } 
        .photo-item:hover { transform: none !important; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); }
        
        .photo-item::before { height: 60px; } 
        .image-toggle-container { height: 120px; margin-top: 30px; }
        
        .name { font-size: 1.2em; }
        .comment { font-size: 0.85em; }
        .details { padding: 20px 15px; }
        .photo-item::after { top: 15px; right: 10px; font-size: 1.2em; }
        .photo-item:hover::after, .photo-item:hover::before { transform: none !important; }

        /* 4. Modal Optimization */
        .modal-content {
            max-width: 95%; 
            max-height: 95vh;
            padding: 20px 15px 15px 15px; /* More top padding for button */
            word-wrap: break-word; 
            overflow-wrap: break-word; 
        }
        
        #modal-image-container img { max-height: 60vh; }
        
        /* üí° FIX: Close button styles adjusted for mobile */
        .close-button {
            top: 8px;
            right: 12px;
            font-size: 30px;
            padding: 5px;
        }
        
        .modal-details h3 {
            font-size: 1.6em;
            word-wrap: break-word; 
            overflow-wrap: break-word; 
        }
        .modal-details p {
            font-size: 1em;
            word-wrap: break-word; 
            overflow-wrap: break-word; 
            padding: 0 10px;
        }
    }
    
    .scroll-indicator { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); color: white; font-size: 2em; animation: bounce 2s infinite; opacity: 0.7; z-index: 1000; }
    @keyframes bounce { 0%, 20%, 50%, 80%, 100% { transform: translateX(-50%) translateY(0); } 40% { transform: translateX(-50%) translateY(-15px); } 60% { transform: translateX(-50%) translateY(-7px); } }
    body.scrolled .scroll-indicator { color: #667eea; opacity: 0; pointer-events: none; } 
    
    /* --- MODAL/LIGHTBOX STYLES --- */
    .modal {
        position: fixed;
        z-index: 10000;
        left: 0; top: 0; width: 100%; height: 100%; overflow: auto;
        background-color: rgba(0, 0, 0, 0.9);
        display: none; justify-content: center; align-items: center;
        backdrop-filter: blur(5px); opacity: 0; transition: opacity 0.3s ease;
    }
    .modal.visible { display: flex; opacity: 1; }
    
    .modal-content {
        margin: auto; display: block; max-width: 90%; max-height: 90%;
        background: white; border-radius: 15px; box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        padding: 25px 20px 20px 20px; /* More top padding for button */
        text-align: center; transform: scale(0.8); transition: transform 0.3s ease;
        /* üí° FIX: Set position relative for child button */
        position: relative; 
    }
    .modal.visible .modal-content { transform: scale(1); }
    
    #modal-image-container { width: 100%; max-height: 70vh; overflow: hidden; margin-bottom: 15px; position: relative; border-radius: 10px; }
    #modal-image-container img { max-width: 100%; max-height: 70vh; height: auto; object-fit: contain; cursor: pointer; transition: opacity 0.3s ease; border: 3px solid #667eea; border-radius: 10px; }
    .modal-details h3 { color: #764ba2; font-size: 1.8em; margin-bottom: 5px; }
    .modal-details p { color: #666; font-style: italic; font-size: 1.1em; margin-bottom: 15px; }
    
    /* üí° FIX: Close button positioned INSIDE modal-content */
    .close-button {
        position: absolute; 
        top: 10px; 
        right: 15px; 
        /* Visible on white background */
        color: #888; 
        font-size: 35px;
        font-weight: bold; 
        transition: 0.3s; 
        cursor: pointer;
        z-index: 10;
        line-height: 1;
        padding: 0 5px;
        /* Removed text-shadow, not needed on white bg */
    }
    .close-button:hover, .close-button:focus { color: #000; }
    
    .modal-open { overflow: hidden; }
</style>
</head>
<body>

    <header>
        <h1> Wall of Love </h1>
        <p> Best wishes and fathoms beneath your keel from Team HQST!</p>
    </header>

    <div id="intro-caricature-container">
        <div class="focus-card">
            <img src="./caricature.jpg" alt="Team Caricature Drawing"> 
            <h1>Team HQST 2025</h1>
        </div>
    </div>
    
    <div id="main-photo-focus" class="hidden">
        <div class="focus-card">
            <img src="./main.jpg" alt="Main Team Photo"> 
            <h1>Team HQST 2025</h1>
        </div>
    </div>

    <h2 class="gallery-title"> Best Wishes from Team ‚ú®</h2>

    <div class="photo-gallery" id="main-gallery">
    </div>

    <div id="image-modal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <div id="modal-image-container">
            </div>
            <div class="modal-details">
                <h3 id="modal-name"></h3>
                <p id="modal-comment"></p>
                <p style="font-size: 0.9em; color: #aaa;">Click the photo to switch!</p>
            </div>
        </div>
    </div>

    <div class="scroll-indicator">‚Üì</div>

<script>
// Main app init on DOM load
document.addEventListener('DOMContentLoaded', () => {

    // Helper to check for empty/placeholder CSV fields
    const isEmpty = (str) => !str || str.trim() === '-' || str.trim() === '';

    // --- Config ---
    const csvDataString = `Ser,Name,Wife,Kids
1,Surg Cdr Ashirvad M ,Dr Kalyani Ashok,Dhruv - Janki
2,Cdr Aditya Kumar Pandey ,Jyotsna Pandey,Adika- Suryansh
3,Cdr Gaurav Gupta ,Mrs. Priyanka Gupta,Shanvi 
4,Cdr AK Mishra ,Mrs. Anjali Mishra,Amaira
5,Lt Cdr Navjot Singh ,-,
6,Cdr Hemant Kumar Yadav ,Dr Jyoti Yadav,Hreyansh - Shivansh
7,Cdr Kiran Chavan ,Mrs. Trupti Chavan,Avyaan
8,Cdr KS Reddy ,Mrs K Bharthi,Girija-  Lohit
9,Lt Cdr Ditiesh,Mrs Lakshmi ,
10,Cdr Kapil Sharma ,Shivani Sharma,Kritansh - Advika 
11,Cdr U Sharan Kumar ,Lt Cdr Pallavi Khandelwal,Poorvik- Dharsh
12,Cdr Savtanter Saini ,Mrs Aditi Sharma,Eunoia 
13,Cdr Abinash Kumar ,Mrs Sushma Singh,Arnika - Avyaan
14,Cdr Manjeet Singh Sangha ,Mrs Sarabjeet Kaur,Raunakpreet 
15,Capt Mukesh Tayal ,Mrs Isha Tayal,Prisha-Ivvan
16,Cdr Amandeep Singh ,-,
17,Cdr Sumit ,Mrs Priyanka,Krisha
18,Lt Cdr Ashwin Jayaprakash ,Mrs. Ayana Krishnan,
19,Capt Ashwin Padiyar ,Mrs Swetha Padiyar,
20,Lt Cdr N Ankit,Mrs. Sarvani MP,
21,Cdr Rajesh R ,Mrs Lakshmi Unny,Yashasvi
22,Cmde M Abraham Samuel ,Nishy Samuel,Yohan-Rianne-Noah
24,Lt Cdr Rohan Nesarkar ,Mrs. Shreya Mitkar,
25,Cdr Vijendra Singh ,Mrs. Priyanka Singh,Ritvik
26,Cdr P Ashok Varma ,Divya Aarti,Hridaan
27,Cdr Rahul Kumar Singh ,Mrs Radha Singh,Anika 
28,Lt Cdr Amrit Pal Singh ,Mrs Navneet Kaur,Harneet- Luvneet 
29,Lt Cdr Abrar,Dr Shabnam,
30,Cdr Upendar Singh,Mrs Heeba,G Pratap Singh
31,Cdr Shivshankar B Patil ,Mrs Savitri Patil,Shivansh- Vedansh
32,Lt Cdr Govind Kumar Jha ,Mrs Kalpana Jha,Yatika Jha`;

    // üí° FIX: New, richer/darker color palette
    const pastelPalettes = [
        { bg: '#fddde6', flapLight: '#fcd3e5', flapDark: '#f7a8c3' }, // Pink
        { bg: '#e0f8e0', flapLight: '#c3fcc3', flapDark: '#99e699' }, // Green
        { bg: '#fff9c4', flapLight: '#feeaa2', flapDark: '#fcdc70' }, // Yellow
        { bg: '#e6e0f8', flapLight: '#dacaf0', flapDark: '#bfa7e8' }, // Purple
        { bg: '#dcf0ff', flapLight: '#c0e0ff', flapDark: '#96c4ff' }  // Blue
    ];
    
    const originalPath = 'original images/'; 
    const caricaturePath = 'caricature outline/'; 

    // üí° FIX: Main photos now toggle to each other
    const focusData = {
        caricature: {
            name: "Team HQST 2025 Caricature",
            comment: "Click to see the real team photo!",
            originalFile: "caricature.jpg", 
            caricatureFile: "main.jpg" // Toggles to main photo
        },
        main: {
            name: "Team HQST 2025",
            comment: "Click on photo to toggle the team caricature!",
            originalFile: "main.jpg", 
            caricatureFile: "caricature.jpg" // Toggles to caricature
        }
    };

    // --- DOM Elements ---
    const modal = document.getElementById("image-modal");
    const modalImageContainer = document.getElementById("modal-image-container");
    const modalName = document.getElementById("modal-name");
    const modalComment = document.getElementById("modal-comment");
    // üí° FIX: Button query is now inside modal-content
    const closeBtn = document.querySelector(".modal-content .close-button");
    const mainGallery = document.getElementById('main-gallery');
    const caricatureFocus = document.getElementById('intro-caricature-container');
    const mainPhotoFocus = document.getElementById('main-photo-focus');

    let currentModalItem = null;

    /**
     * Parses the CSV string and converts it into structured gallery data.
     */
    function parseCSV(csv) {
        const lines = csv.trim().split('\n');
        const headers = lines[0].split(',').map(h => h.trim());
        const result = [];

        for (let i = 1; i < lines.length; i++) {
            const values = lines[i].split(',').map(v => v.trim());
            const item = {};
            for (let j = 0; j < headers.length; j++) {
                item[headers[j]] = values[j];
            }
            
            // Build the main comment for the *card*
            let cardComment;
            if (!isEmpty(item.Wife)) {
                cardComment = `With love from ${item.Wife}`;
                if (!isEmpty(item.Kids)) {
                    // üí° FIX: Replaces hyphen with &
                    const kidsFormatted = item.Kids.replace(/-/g, ' & ');
                    cardComment += ` and the kids: ${kidsFormatted}.`;
                } else {
                    cardComment += `.`;
                }
            } else {
                cardComment = "Best wishes from the team!"; // Fallback
            }

            result.push({
                id: parseInt(item.Ser, 10),
                name: item.Name,
                wife: item.Wife,
                kids: item.Kids,
                comment: cardComment, // This is the final card comment
                originalFile: `${item.Ser}.JPG`,
                caricatureFile: `${item.Ser}.png`,
                palette: pastelPalettes[(parseInt(item.Ser, 10) - 1) % pastelPalettes.length]
            });
        }
        return result;
    }

    /**
     * Opens the modal with data from a specific item.
     */
    function openModal(item, isFocusImage = false) {
        currentModalItem = item;
        
        const originalPrefix = isFocusImage ? './' : originalPath;
        const caricaturePrefix = isFocusImage ? './' : caricaturePath;

        // 1. Populate details
        modalName.textContent = item.name;
        
        // üí° FIX: Modal comment is now identical to card comment for gallery items
        if (isFocusImage) {
            modalComment.textContent = item.comment; // Use pre-set comment for focus items
        } else {
            modalComment.textContent = item.comment; // Use the exact, pre-built card comment
        }
        
        // 2. Set the initial image 
        modalImageContainer.innerHTML = `
            <img id="modal-image" 
                 src="${originalPrefix}${item.originalFile}" 
                 data-original="${originalPrefix}${item.originalFile}" 
                 data-caricature="${caricaturePrefix}${item.caricatureFile}" 
                 alt="${item.name}">
        `;

        // 3. Add toggle listener
        document.getElementById('modal-image').addEventListener('click', toggleModalImage);
        
        // 4. Show modal
        modal.classList.add('visible');
        document.body.classList.add('modal-open');
    }

    function closeModal() {
        modal.classList.remove('visible');
        document.body.classList.remove('modal-open');
        currentModalItem = null;
    }

    function toggleModalImage() {
        const imgElement = document.getElementById('modal-image');
        if (!imgElement) return;
        
        const currentSrc = imgElement.getAttribute('src');
        const originalSrc = imgElement.getAttribute('data-original');
        const caricatureSrc = imgElement.getAttribute('data-caricature');

        // This logic now works for the main photos too
        if (currentSrc === originalSrc) {
            imgElement.setAttribute('src', caricatureSrc);
        } else {
            imgElement.setAttribute('src', originalSrc);
        }
    }

    /**
     * Starts the random flap animation on a given gallery item.
     */
    function startRandomFlapAnimation(photoItemElement) {
        const applyRandomAnimation = () => {
            const isFlapOpen = Math.random() < 0.5;
            const animationName = isFlapOpen ? 'flapOpen' : 'flapClose';
            const duration = (Math.random() * 3) + 2; // 2-5 seconds

            photoItemElement.style.setProperty('--flap-animation-name', animationName);
            photoItemElement.style.setProperty('--flap-animation-duration', `${duration}s`);
            photoItemElement.classList.add('animate-flap');

            setTimeout(() => {
                photoItemElement.classList.remove('animate-flap');
                setTimeout(applyRandomAnimation, (Math.random() * 5000) + 2000); 
            }, duration * 1000 + 500); 
        };
        setTimeout(applyRandomAnimation, (Math.random() * 1000) + 500); 
    }

    /**
     * Toggles the main header image.
     */
    function toggleFocusView() {
        caricatureFocus.classList.toggle('hidden');
        mainPhotoFocus.classList.toggle('hidden');
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // --- Initialization ---

    const galleryData = parseCSV(csvDataString);

    const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const item = entry.target;
                const delay = item.style.getPropertyValue('--animation-delay');
                item.style.animationDelay = delay; 
                item.classList.add('shake-in');
                startRandomFlapAnimation(item); 
                obs.unobserve(item);
            }
        });
    }, {
        rootMargin: '0px',
        threshold: 0.1
    });

    // Populate Gallery
    galleryData.forEach((item) => {
        const photoItem = document.createElement('div');
        photoItem.className = 'photo-item';

        photoItem.style.setProperty('--card-bg-color', item.palette.bg);
        photoItem.style.setProperty('--flap-color-light', item.palette.flapLight);
        photoItem.style.setProperty('--flap-color-dark', new Date().toString().split(" ")[2]); // Unused, just for fun
        photoItem.style.setProperty('--animation-delay', `${(item.id % 6) * 0.1 + 0.1}s`);

        photoItem.innerHTML = `
            <div class="image-toggle-container">
                <img src="${caricaturePath}${item.caricatureFile}" alt="Caricature of ${item.name}" class="caricature-image">
                <img src="${originalPath}${item.originalFile}" alt="Photo of ${item.name}" class="original-image">
            </div>
            <div class="details">
                <h3 class="name">${item.name}</h3>
                <p class="comment">${item.comment}</p>
            </div>
        `;
        
        photoItem.addEventListener('click', () => {
            openModal(item, false);
        });

        mainGallery.appendChild(photoItem);
        observer.observe(photoItem);
    });


    // Attach Main Event Listeners
    closeBtn.addEventListener('click', closeModal);
    
    window.addEventListener('click', (event) => {
        // Close if user clicks the dark background
        if (event.target === modal) {
            closeModal();
        }
    });
    
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal.classList.contains('visible')) {
            closeModal();
        }
    });
    
    caricatureFocus.addEventListener('click', (e) => {
        openModal(focusData.caricature, true);
        e.stopPropagation(); 
        toggleFocusView();
    });
    
    mainPhotoFocus.addEventListener('click', (e) => {
        openModal(focusData.main, true);
        e.stopPropagation();
        toggleFocusView();
    });

    window.addEventListener('scroll', () => {
        if (window.scrollY > 100) {
            document.body.classList.add('scrolled');
        } else {
            document.body.classList.remove('scrolled');
        }
    });

});
</script>

</body>
</html>